{"ast":null,"code":"import _slicedToArray from \"/Users/Justin/Desktop/portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Justin/Desktop/portfolio/src/components/Window/Window.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Window.scss\";\nimport { selectWindow } from \"../../utils\";\nimport { WINDOW } from \"../../constants\";\n\nvar window = function window(props) {\n  var _useState = useState({\n    x: 0,\n    y: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      size = _useState2[0],\n      setSize = _useState2[1];\n\n  var _useState3 = useState(props.pos),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pos = _useState4[0],\n      setPos = _useState4[1];\n\n  var _useState5 = useState(\"all 0.3s ease-out\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ease = _useState6[0],\n      setEase = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      zIndex = _useState8[0],\n      setZIndex = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      opacity = _useState10[0],\n      setOpacity = _useState10[1];\n\n  var id = props.id,\n      type = props.type,\n      title = props.title,\n      content = props.content,\n      close = props.close,\n      open = props.open;\n  var offset = {\n    x: 0,\n    y: 0\n  };\n  var isDrag = true;\n  useEffect(function () {\n    if (open) openWindow();\n  }, [open]);\n\n  var _onMouseDown = function onMouseDown(e, drag) {\n    mySelectWindow(e);\n    setEase(null);\n    isDrag = drag;\n    var attr = isDrag ? pos : size;\n    offset = {\n      x: attr.x - e.clientX,\n      y: attr.y - e.clientY\n    };\n    document.addEventListener(\"mousemove\", onMouseMove);\n    document.addEventListener(\"mouseup\", onMouseUp);\n  };\n\n  var onMouseMove = function onMouseMove(e) {\n    isDrag ? setPos({\n      x: offset.x + e.clientX,\n      y: Math.max(offset.y + e.clientY, 0)\n    }) : setSize({\n      x: Math.max(offset.x + e.clientX, WINDOW.MIN_WIDTH),\n      y: Math.max(offset.y + e.clientY, WINDOW.MIN_HEIGHT)\n    });\n  };\n\n  var onMouseUp = function onMouseUp() {\n    setEase(\"all 0.5s ease\");\n    document.removeEventListener(\"mousemove\", onMouseMove);\n    document.removeEventListener(\"mouseup\", onMouseUp);\n  };\n\n  var renderTitle = function renderTitle() {\n    if (size.x === 0) return \"...\";\n    var width = size.x < WINDOW.MIN_WIDTH ? WINDOW.MIN_WIDTH : size.x;\n    var charLeft = Math.round(width / 8) - 17;\n    return charLeft < title.length ? title.slice(0, charLeft - 2) + \"...\" : title;\n  };\n\n  var scaleWindow = function scaleWindow(maximize) {\n    setSize({\n      x: maximize ? WINDOW.MAX_WIDTH : WINDOW.MIN_WIDTH,\n      y: maximize ? WINDOW.MAX_HEIGHT : WINDOW.MIN_HEIGHT\n    });\n  };\n\n  var closeWindow = function closeWindow() {\n    setEase(\"all 0.3s ease-in\");\n    setSize({\n      x: 0,\n      y: 0\n    });\n    setTimeout(closeWindowHelper, 280);\n  };\n\n  var closeWindowHelper = function closeWindowHelper() {\n    setOpacity(0);\n    setEase(\"all 0.3s ease-out\");\n    setPos(props.pos);\n    close();\n  };\n\n  var openWindow = function openWindow() {\n    setOpacity(1);\n    setSize(props.size);\n    setTimeout(openWindowHelper, 280);\n  };\n\n  var openWindowHelper = function openWindowHelper() {\n    setEase(\"all 0.5s ease\");\n  };\n\n  var mySelectWindow = function mySelectWindow(e) {\n    e.stopPropagation();\n    setZIndex(selectWindow(zIndex));\n  };\n\n  return React.createElement(\"div\", {\n    id: id,\n    className: \"window\",\n    onMouseDown: mySelectWindow,\n    style: {\n      left: pos.x,\n      top: pos.y,\n      zIndex: zIndex,\n      opacity: opacity\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"window__header\",\n    onMouseDown: function onMouseDown(e) {\n      return _onMouseDown(e, true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, renderTitle()), React.createElement(\"div\", {\n    className: \"window__button -exit\",\n    onClick: closeWindow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"window__button -minimize\",\n    onClick: function onClick() {\n      return scaleWindow(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"window__button -maximize\",\n    onClick: function onClick() {\n      return scaleWindow(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"window__content -\" + type,\n    style: {\n      transition: ease,\n      width: size.x,\n      height: size.y\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, content, open ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"window__scaleIcon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"window__scaleArea\",\n    onMouseDown: function onMouseDown(e) {\n      return _onMouseDown(e, false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })) : null));\n};\n\nwindow.defaultProps = {\n  size: {\n    x: 500,\n    y: 300\n  }\n};\nexport default window;","map":{"version":3,"sources":["/Users/Justin/Desktop/portfolio/src/components/Window/Window.jsx"],"names":["React","useState","useEffect","selectWindow","WINDOW","window","props","x","y","size","setSize","pos","setPos","ease","setEase","zIndex","setZIndex","opacity","setOpacity","id","type","title","content","close","open","offset","isDrag","openWindow","onMouseDown","e","drag","mySelectWindow","attr","clientX","clientY","document","addEventListener","onMouseMove","onMouseUp","Math","max","MIN_WIDTH","MIN_HEIGHT","removeEventListener","renderTitle","width","charLeft","round","length","slice","scaleWindow","maximize","MAX_WIDTH","MAX_HEIGHT","closeWindow","setTimeout","closeWindowHelper","openWindowHelper","stopPropagation","left","top","transition","height","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Window.scss\";\nimport { selectWindow } from \"../../utils\";\nimport { WINDOW } from \"../../constants\";\n\nconst window = props => {\n  const [size, setSize] = useState({ x: 0, y: 0 });\n  const [pos, setPos] = useState(props.pos);\n  const [ease, setEase] = useState(\"all 0.3s ease-out\");\n  const [zIndex, setZIndex] = useState(0);\n  const [opacity, setOpacity] = useState(0);\n\n  let { id, type, title, content, close, open } = props;\n  let offset = { x: 0, y: 0 };\n  let isDrag = true;\n\n  useEffect(() => {\n    if (open) openWindow();\n  }, [open]);\n\n  const onMouseDown = (e, drag) => {\n    mySelectWindow(e);\n    setEase(null);\n    isDrag = drag;\n    const attr = isDrag ? pos : size;\n    offset = { x: attr.x - e.clientX, y: attr.y - e.clientY };\n    document.addEventListener(\"mousemove\", onMouseMove);\n    document.addEventListener(\"mouseup\", onMouseUp);\n  };\n\n  const onMouseMove = e => {\n    isDrag\n      ? setPos({\n          x: offset.x + e.clientX,\n          y: Math.max(offset.y + e.clientY, 0)\n        })\n      : setSize({\n          x: Math.max(offset.x + e.clientX, WINDOW.MIN_WIDTH),\n          y: Math.max(offset.y + e.clientY, WINDOW.MIN_HEIGHT)\n        });\n  };\n\n  const onMouseUp = () => {\n    setEase(\"all 0.5s ease\");\n    document.removeEventListener(\"mousemove\", onMouseMove);\n    document.removeEventListener(\"mouseup\", onMouseUp);\n  };\n\n  const renderTitle = () => {\n    if (size.x === 0) return \"...\";\n    let width = size.x < WINDOW.MIN_WIDTH ? WINDOW.MIN_WIDTH : size.x;\n    let charLeft = Math.round(width / 8) - 17;\n    return charLeft < title.length\n      ? title.slice(0, charLeft - 2) + \"...\"\n      : title;\n  };\n\n  const scaleWindow = maximize => {\n    setSize({\n      x: maximize ? WINDOW.MAX_WIDTH : WINDOW.MIN_WIDTH,\n      y: maximize ? WINDOW.MAX_HEIGHT : WINDOW.MIN_HEIGHT\n    });\n  };\n\n  const closeWindow = () => {\n    setEase(\"all 0.3s ease-in\");\n    setSize({ x: 0, y: 0 });\n    setTimeout(closeWindowHelper, 280);\n  };\n\n  const closeWindowHelper = () => {\n    setOpacity(0);\n    setEase(\"all 0.3s ease-out\");\n    setPos(props.pos);\n    close();\n  };\n\n  const openWindow = () => {\n    setOpacity(1);\n    setSize(props.size);\n    setTimeout(openWindowHelper, 280);\n  };\n\n  const openWindowHelper = () => {\n    setEase(\"all 0.5s ease\");\n  };\n\n  const mySelectWindow = e => {\n    e.stopPropagation();\n    setZIndex(selectWindow(zIndex));\n  };\n\n  return (\n    <div\n      id={id}\n      className=\"window\"\n      onMouseDown={mySelectWindow}\n      style={{\n        left: pos.x,\n        top: pos.y,\n        zIndex: zIndex,\n        opacity: opacity\n      }}\n    >\n      <div className=\"window__header\" onMouseDown={e => onMouseDown(e, true)}>\n        <span>{renderTitle()}</span>\n        <div className=\"window__button -exit\" onClick={closeWindow} />\n        <div\n          className=\"window__button -minimize\"\n          onClick={() => scaleWindow(false)}\n        />\n        <div\n          className=\"window__button -maximize\"\n          onClick={() => scaleWindow(true)}\n        />\n      </div>\n      <div\n        className={\"window__content -\" + type}\n        style={{\n          transition: ease,\n          width: size.x,\n          height: size.y\n        }}\n      >\n        {content}\n        {open ? (\n          <div>\n            <div className=\"window__scaleIcon\" />\n            <div\n              className=\"window__scaleArea\"\n              onMouseDown={e => onMouseDown(e, false)}\n            />\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nwindow.defaultProps = { size: { x: 500, y: 300 } };\n\nexport default window;\n"]},"metadata":{},"sourceType":"module"}